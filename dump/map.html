<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>School Map SVG Overlay</title>
    <style>
      body {
        margin: 0;
        background: #f6f6f6;
        display: flex;
        gap: 1rem;
        padding: 1rem;
        font-family: system-ui, Arial;
      }
      .wrap {
        position: relative;
        max-width: 100%;
        border: 1px solid #ddd;
        background: #fff;
      }
      /* Example: if you want the svg overlay on top of the image - uncomment and use */
      /* .map-img { display:block; max-width:100%; height:auto; } */
      /* .overlay { position:absolute; top:0; left:0; pointer-events:auto; } */

      svg {
        display: block;
        max-width: 100%;
        height: auto;
      }
      .shape {
        stroke: rgba(0, 0, 0, 0.25);
        stroke-width: 2;
        fill-opacity: 0.55;
        cursor: pointer;
        transition: fill-opacity 0.12s, stroke-width 0.08s;
      }
      .shape:hover {
        fill-opacity: 0.85;
        stroke-width: 3;
      }
      .label {
        font: 12px/1 "Segoe UI", Roboto, "Helvetica Neue", Arial;
        fill: #111;
        pointer-events: none;
      }
      /* small caption */
      .caption {
        padding: 8px 12px;
        font-size: 13px;
        color: #333;
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <div class="caption">
        SVG overlay generated from your &lt;map&gt; â€” rooms are green; others
        colored by title.
      </div>

      <!-- SVG sized generously to cover coordinates used in your map.
         If your actual base image has different size, change viewBox or width/height accordingly. -->
      <svg
        id="school-svg"
        width="1920"
        height="960"
        viewBox="0 0 1920 960"
        xmlns="http://www.w3.org/2000/svg"
        role="img"
        aria-label="School map overlay"
      >
        <!-- Background (optional) -->
        <rect x="0" y="0" width="100%" height="100%" fill="transparent"></rect>

        <!-- Shapes (converted from your <area> entries). Each has data-title equal to the title attribute. -->
        <!-- Walk path (rect coords were 550,236,550,387,1599,393,1602,890,1729,892,1727,236) - that was set shape="rect" in map but looks larger.
           I will render as polygon using the coords grouped reasonably. -->
        <polygon
          class="shape"
          data-title="Walk path"
          points="550,236 550,387 1599,393 1602,890 1729,892 1727,236"
        >
          <title>Walk path</title>
        </polygon>

        <!-- JHS Court (poly) -->
        <polygon
          class="shape"
          data-title="JHS Court"
          points="1173,663 1176,857 1136,919 1056,948 980,922 937,865 937,700 936,615 958,565 1010,534 1076,528 1130,549 1166,588"
        >
          <title>JHS Court</title>
        </polygon>

        <!-- SHS Court (poly) -->
        <polygon
          class="shape"
          data-title="SHS Court"
          points="136,317 160,239 212,210 440,209 494,246 516,312 503,378 455,434 313,436 198,431 145,378"
        >
          <title>SHS Court</title>
        </polygon>

        <!-- SHS Faculty -->
        <rect
          class="shape"
          data-title="SHS Faculty"
          x="13"
          y="54"
          width="105"
          height="382"
        >
          <title>SHS Faculty</title>
        </rect>

        <!-- Building 4 -->
        <rect
          class="shape"
          data-title="Building 4"
          x="159"
          y="19"
          width="335"
          height="173"
        >
          <title>Building 4</title>
        </rect>

        <!-- Building 5 -->
        <rect
          class="shape"
          data-title="Building 5"
          x="104"
          y="468"
          width="307"
          height="171"
        >
          <title>Building 5</title>
        </rect>

        <!-- Building 6 -->
        <rect
          class="shape"
          data-title="Building 6"
          x="104"
          y="722"
          width="239"
          height="155"
        >
          <title>Building 6</title>
        </rect>

        <!-- Building 3 -->
        <rect
          class="shape"
          data-title="Building 3"
          x="520"
          y="19"
          width="349"
          height="169"
        >
          <title>Building 3</title>
        </rect>

        <!-- Building 2 -->
        <rect
          class="shape"
          data-title="Building 2"
          x="932"
          y="24"
          width="370"
          height="164"
        >
          <title>Building 2</title>
        </rect>

        <!-- Building 1 -->
        <rect
          class="shape"
          data-title="Building 1"
          x="1327"
          y="20"
          width="361"
          height="170"
        >
          <title>Building 1</title>
        </rect>

        <!-- small rect without title at 1761,19,1904,78 -->
        <rect
          class="shape"
          data-title=""
          x="1761"
          y="19"
          width="143"
          height="59"
        >
          <title></title>
        </rect>

        <!-- Room 9 - Room boxes on the right column -->
        <rect
          class="shape"
          data-title="Room 9"
          x="1758"
          y="103"
          width="149"
          height="56"
        >
          <title>Room 9</title>
        </rect>

        <rect
          class="shape"
          data-title="Room 8"
          x="1760"
          y="198"
          width="144"
          height="58"
        >
          <title>Room 8</title>
        </rect>

        <rect
          class="shape"
          data-title="Room 7"
          x="1758"
          y="280"
          width="146"
          height="56"
        >
          <title>Room 7</title>
        </rect>

        <rect
          class="shape"
          data-title="Room 6"
          x="1765"
          y="365"
          width="141"
          height="57"
        >
          <title>Room 6</title>
        </rect>

        <rect
          class="shape"
          data-title="Room 5"
          x="1765"
          y="446"
          width="142"
          height="56"
        >
          <title>Room 5</title>
        </rect>

        <rect
          class="shape"
          data-title="Room 4"
          x="1765"
          y="527"
          width="141"
          height="63"
        >
          <title>Room 4</title>
        </rect>

        <rect
          class="shape"
          data-title="Room 3"
          x="1763"
          y="617"
          width="146"
          height="59"
        >
          <title>Room 3</title>
        </rect>

        <rect
          class="shape"
          data-title="Room 2"
          x="1760"
          y="705"
          width="142"
          height="63"
        >
          <title>Room 2</title>
        </rect>

        <rect
          class="shape"
          data-title="Room 1"
          x="1765"
          y="797"
          width="142"
          height="61"
        >
          <title>Room 1</title>
        </rect>

        <!-- anonymous rects -->
        <rect
          class="shape"
          data-title=""
          x="452"
          y="522"
          width="144"
          height="117"
        >
          <title></title>
        </rect>

        <rect
          class="shape"
          data-title=""
          x="445"
          y="678"
          width="144"
          height="115"
        >
          <title></title>
        </rect>

        <!-- Canteen -->
        <rect
          class="shape"
          data-title="Canteen"
          x="447"
          y="855"
          width="141"
          height="93"
        >
          <title>Canteen</title>
        </rect>

        <!-- Restrooms -->
        <rect
          class="shape"
          data-title="Restroom"
          x="788"
          y="482"
          width="83"
          height="101"
        >
          <title>Restroom</title>
        </rect>
        <rect
          class="shape"
          data-title="Restroom"
          x="791"
          y="595"
          width="82"
          height="104"
        >
          <title>Restroom</title>
        </rect>
        <rect
          class="shape"
          data-title="Restroom"
          x="1761"
          y="880"
          width="143"
          height="37"
        >
          <title>Restroom</title>
        </rect>

        <!-- JHS Faculty -->
        <rect
          class="shape"
          data-title="JHS Faculty"
          x="600"
          y="839"
          width="327"
          height="107"
        >
          <title>JHS Faculty</title>
        </rect>

        <!-- Circle (the coords were "700,651,42") -->
        <circle class="shape" data-title="" cx="700" cy="651" r="42">
          <title></title>
        </circle>

        <!-- Flag pole (coords in map looked like a rect) -->
        <rect
          class="shape"
          data-title="Flag pole"
          x="1010"
          y="434"
          width="102"
          height="80"
        >
          <title>Flag pole</title>
        </rect>

        <!-- Fireexits -->
        <rect
          class="shape"
          data-title="Fireexit"
          x="318"
          y="929"
          width="100"
          height="24"
        >
          <title>Fireexit</title>
        </rect>

        <rect
          class="shape"
          data-title="Fireexit"
          x="696"
          y="434"
          width="102"
          height="17"
        >
          <title>Fireexit</title>
        </rect>

        <rect
          class="shape"
          data-title="Fireexit"
          x="92"
          y="470"
          width="9"
          height="166"
        >
          <title>Fireexit</title>
        </rect>

        <rect
          class="shape"
          data-title="Fireexit"
          x="506"
          y="19"
          width="10"
          height="164"
        >
          <title>Fireexit</title>
        </rect>

        <rect
          class="shape"
          data-title="Fireexit"
          x="1303"
          y="20"
          width="11"
          height="165"
        >
          <title>Fireexit</title>
        </rect>

        <rect
          class="shape"
          data-title="Fireexit"
          x="1319"
          y="24"
          width="5"
          height="154"
        >
          <title>Fireexit</title>
        </rect>

        <!-- Main gate -->
        <rect
          class="shape"
          data-title="Main gate"
          x="1599"
          y="912"
          width="139"
          height="29"
        >
          <title>Main gate</title>
        </rect>

        <!-- Clinic -->
        <rect
          class="shape"
          data-title="Clinic"
          x="1190"
          y="856"
          width="59"
          height="87"
        >
          <title>Clinic</title>
        </rect>

        <!-- Library -->
        <rect
          class="shape"
          data-title="Library"
          x="1270"
          y="832"
          width="93"
          height="114"
        >
          <title>Library</title>
        </rect>

        <!-- PTA Office -->
        <rect
          class="shape"
          data-title="PTA Office"
          x="1390"
          y="832"
          width="71"
          height="104"
        >
          <title>PTA Office</title>
        </rect>

        <!-- Guard House -->
        <rect
          class="shape"
          data-title="Guard House"
          x="1485"
          y="860"
          width="86"
          height="76"
        >
          <title>Guard House</title>
        </rect>

        <!-- two anonymous rects -->
        <rect
          class="shape"
          data-title=""
          x="1463"
          y="651"
          width="117"
          height="154"
        >
          <title></title>
        </rect>

        <rect
          class="shape"
          data-title=""
          x="1461"
          y="480"
          width="122"
          height="154"
        >
          <title></title>
        </rect>

        <!-- Wash Area -->
        <rect
          class="shape"
          data-title="Wash Area"
          x="1470"
          y="422"
          width="105"
          height="44"
        >
          <title>Wash Area</title>
        </rect>

        <!-- optional: small visible label examples (disabled by default)
           <text x="1765" y="125" class="label">Room 9</text> -->
      </svg>
    </div>

    <script>
      /*
      Color assignment rules:
      - If data-title contains "Room" (case-insensitive): fill = green (#4caf50).
      - Otherwise compute a deterministic HSL color from the title string so
        the same title always gets the same color.
    */
      (function () {
        function hashString(s) {
          let h = 2166136261 >>> 0;
          for (let i = 0; i < s.length; i++) {
            h ^= s.charCodeAt(i);
            h += (h << 1) + (h << 4) + (h << 7) + (h << 8) + (h << 24);
            h >>>= 0;
          }
          return h >>> 0;
        }

        function titleToColor(title) {
          if (!title) return "rgba(150,150,150,0.55)"; // neutral grey for empty titles
          if (/room/i.test(title)) return "#4caf50"; // green for rooms

          const h = hashString(title);
          const hue = h % 360;
          // choose saturation and lightness for good contrast
          const sat = 55 + (h % 20); // 55..74
          const light = 45 + (h % 10); // 45..54
          return `hsl(${hue} ${sat}% ${light}%)`;
        }

        const shapes = document.querySelectorAll("#school-svg .shape");
        shapes.forEach((sh) => {
          const t = (sh.getAttribute("data-title") || "").trim();
          const fill = titleToColor(t);
          sh.setAttribute("fill", fill);
          // keep stroke slightly darker / translucent
          sh.setAttribute("stroke", "rgba(0,0,0,0.18)");
          // ensure title exists for accessibility (already added in markup)
        });
      })();
    </script>
  </body>
</html>
